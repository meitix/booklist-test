<ul>
  <li *ngFor="let book of books | async; let i = index"> 
    <span>{{book.title}} - {{book.rate}} stars </span> <app-rating [id]="i" [book]="book"></app-rating>
  </li>
</ul>

<button (click)="toggleRandomRating()">toggle random rating</button>